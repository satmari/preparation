{% extends "core/base.html" %}

{% load static %}
{% block content %}

<div class="container-fluid">
    <div style="display: flex; align-items: center;">
        <h2 style="margin-right: 10px;">{{ title }}</h2>

    </div>
    <br>

    <!-- Table with sortable columns -->
    <table class="table table-striped table-bordered custom-table" id="pos-table" style="width: 100%;">
        <thead>
            <tr>
                <th><b>PO</b></th>
                <th>Size</th>
                <th>Style</th>
                <th>Color</th>
                <th>Color Des</th>
                <th>Brand</th>
                <th>Leader</th>
                <th>Status</th>
                <th>Type</th>
                <th>Qty</th>
                <th>Comment</th>
                <th>Created</th>
                <th>Updated</th>
            </tr>
        </thead>
        <tbody>
            {% for pos in history %}
            <tr>
                <td><b>{{ pos.ponum }}</b></td>
                <td>{{ pos.size }}</td>
                <td>{{ pos.style }}</td>
                <td>{{ pos.color }}</td>
                <td>{{ pos.color_desc }}</td>
                <td>{{ pos.brand }}</td>
                <td>{{ pos.leader }}</td>
                <td>{{ pos.status }}</td>
                <td>{{ pos.type }}</td>
                <td>{{ pos.qty }}</td>
                <td>{{ pos.comment }}</td>
                <td>{{ pos.created_at|date:"Y-m-d H:i" }}</td>
                <td>{{ pos.updated_at|date:"Y-m-d H:i" }}</td>

            </tr>
            {% endfor %}
        </tbody>
    </table>

</div>

{% endblock %}

{% block scripts %}
<script>
    $(document).ready(function() {
        // Initialize DataTable
        var table = $('#pos-table').DataTable({
            paging: true,
            ordering: false,
            searching: true,
            pageLength: 20,
            lengthMenu: [10, 20, 50, 100, 500, 1000],
            responsive: true,
            scrollCollapse: true,  // Allow table to shrink
        });

        // Initialize FixedHeader
        new $.fn.dataTable.FixedHeader(table);
    });
</script>
{% endblock %}

